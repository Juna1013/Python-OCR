# OCRを用いた画像ファイルのテキスト認識

## 概要

このプログラムは、Google Colab環境で実行することを想定しており、Google Driveに保存された画像ファイルからテキストを抽出します。PythonのPillow、pytesseractライブラリを使用し、画像の前処理（グレースケール変換）を行った後、Tesseract OCRエンジンを用いてテキストを認識・抽出します。

## 動作環境

* Google Colab
* Python 3.x

### 必要なライブラリ

このプログラムは以下のPythonライブラリを使用します。
* `Pillow`
* `pytesseract`
* `OpenCV (cv2)` (コード内にはありますが、現在のOCR処理には直接使用されていません)
* `numpy` (コード内にはありますが、現在のOCR処理には直接使用されていません)

## 使い方

1.  **Google Colabで開く**
    このJupyter Notebook (.ipynb) ファイルをGoogle Colabで開きます。

2.  **必要なライブラリのインストールとTesseract OCRエンジンの導入**
    プログラムの実行を開始すると、必要なライブラリのインストールとTesseract OCRエンジンの導入が自動的に行われます。

3.  **Google Driveのマウント**
    プログラムがGoogle Driveのマウントを求めます。表示される指示に従ってGoogleアカウントを認証し、Google Driveへのアクセスを許可してください。これにより、ColabからGoogle Drive内の画像ファイルにアクセスできるようになります。

4.  **画像ファイルのパス入力**
    Google Driveのマウントが完了すると、テキスト認識を行いたい画像ファイルのパスを入力するよう求められます。
    例: `/content/drive/MyDrive/MyFolder/my_image.png`
    正確なパスを入力し、Enterキーを押してください。

5.  **テキスト抽出の実行**
    指定された画像ファイルが読み込まれ、グレースケール変換などの前処理が行われた後、OCR処理が実行されます。抽出されたテキストは、プログラムの出力として表示されます。

## エラーハンドリング

プログラムには、以下のようなエラーに対する基本的なハンドリングが含まれています。

* **`FileNotFoundError`**: 指定された画像ファイルが見つからない場合に発生します。パスが正しいか、ファイルが存在するかを確認してください。
* **`ValueError`**: 指定されたファイルが画像として読み込めない場合に発生します。有効な画像ファイル（例: `.png`, `.jpg`）を指定してください。
* **その他の`Exception`**: 予期せぬエラーが発生した場合にメッセージを表示します。

## 注意事項

* **OCRの精度**: 抽出されるテキストの精度は、画像の品質（解像度、コントラスト、ノイズ、フォントの種類など）に大きく依存します。
* **言語**: 現在のプログラムは日本語 (`jpn`) と英語 (`eng`) の両方を認識するように設定されています。他の言語を認識させたい場合は、`pytesseract.image_to_string`関数の`lang`パラメータを変更する必要があります。
* **`cv2`と`numpy`の使用**: 現在のコードでは`cv2`と`numpy`がインポートされていますが、直接OCR処理には使用されていません。もし画像に対するより高度な前処理（ノイズ除去、二値化など）を実装する場合は、これらのライブラリを活用できます。
